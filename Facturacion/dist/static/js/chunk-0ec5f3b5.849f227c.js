(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ec5f3b5"],{"71fe":function(e,t,r){},7278:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"createPost-container",staticStyle:{background:"#f7fbff",height:"89vh"}},[r("sticky",{attrs:{"class-name":"sub-navbar"}},[r("div",{staticStyle:{border:"0px solid red","text-align":"center"}},[r("div",[r("transition",{attrs:{name:"el-zoom-in-bottom"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"transition-box"},[r("el-button",{staticStyle:{border:"1px solid #67c23a"},attrs:{size:"medium",icon:"el-icon-circle-plus",round:""},on:{click:function(t){return e.handleAgregar()}}},[e._v("Agregar item")])],1)])],1)])]),e._v(" "),r("div",{staticClass:"app-container"},[r("el-card",{staticClass:"box-card div-causas-header"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%",border:"1px solid #d8ebff"},attrs:{data:e.listaItems.filter((function(t){return!e.busquedaItem||t.label.toLowerCase().includes(e.busquedaItem.toLowerCase())})),height:"70vh",border:"",fit:"","highlight-current-row":""}},[e._l(e.tableColumnsItems,(function(t){return r("el-table-column",{key:t.label,attrs:{label:t.label,prop:t.prop,align:"center",width:t.width,sortable:""},scopedSlots:e._u([{key:"default",fn:function(n){return["label"===t.prop?r("div",[r("el-tag",{attrs:{type:"primary"}},[e._v(e._s(e._f("uppercase")(n.row[t.prop])))])],1):"precio"===t.prop?r("div",[r("span",[e._v("$ "+e._s(n.row[t.prop]))])]):"registro"===t.prop?r("div",[r("span",[r("i",{staticClass:"el-icon-time"}),e._v(" "+e._s(e._f("formatDateHour")(n.row[t.prop])))])]):r("div",[e._v(e._s(n.row[t.prop]))])]}}],null,!0)})})),e._v(" "),r("el-table-column",{attrs:{align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){return[r("el-input",{attrs:{size:"mini",placeholder:"Nombre item",clearable:""},model:{value:e.busquedaItem,callback:function(t){e.busquedaItem=t},expression:"busquedaItem"}})]}},{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-edit"},on:{click:function(r){return e.handleEdit(t.row)}}},[r("b",[e._v("Editar")])]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete-solid"},on:{click:function(r){return e.handleDelete(t.row)}}})]}}])})],2)],1)],1),e._v(" "),r("modal-agregar",{attrs:{modaltitulo:e.tituloModalItem,modalvisible:e.dialogVisibleItem,modalform:e.formItem,domcomponents:e.domItem,rulesform:e.rulesFormItem,datamodal:e.dataFormItem,action:e.modalAction},on:{confirmar:e.submitAgregar}}),e._v(" "),r("modal-delete",{attrs:{titulo:"Advertencia",mensaje:e.mensajeModalDelete,modalvisible:e.deleteDialogVisible},on:{confirmar:e.submitDelete}})],1)},i=[],a=(r("96cf"),r("1da1")),o=r("a888"),s=r("0141"),l=r("d589"),c={tableColumnsItems:[{label:"Nombre",prop:"label",width:300},{label:"Identificador",prop:"id"},{label:"Precio",prop:"precio"},{label:"Descripción",prop:"descripcion"},{label:"Fecha registro",prop:"registro"}],formItem:{value:"",label:"",id:"",precio:"",descripcion:""},domItem:[{type:"text",prop:"label",label:"Nombre",placeholder:"Nombre del item"},{type:"number",prop:"id",label:"Identificador",placeholder:"Código item"},{type:"number",prop:"precio",label:"Precio",placeholder:"Precio del item"},{type:"textarea",prop:"descripcion",label:"Descripción",placeholder:"Ingrese una descripción"}],rulesFormItem:{label:[{required:!0,message:"Ingrese un nombre",trigger:"blur"}],id:[{required:!0,message:"Ingrese el identificador"},{type:"number",message:"Este campo debe ser numérico"}],precio:[{required:!0,message:"Ingrese el precio"},{type:"number",message:"Este campo debe ser numérico"}],descripcion:[{required:!1,message:"Ingrese un nombre",trigger:"blur"}]},dataFormItem:{iditem:[{id:1,label:"Producto1",value:1},{id:2,label:"Producto2",value:2}]}},u=r("7818"),d=r("b804"),m={directives:{elDragDialog:o["a"]},components:{ModalAgregar:s["a"],ModalDelete:l["a"],Sticky:d["a"]},data:function(){return{loading:!1,tableColumnsItems:c.tableColumnsItems,listaItems:[],dialogVisibleItem:!1,deleteDialogVisible:!1,mensajeModalDelete:"",tituloModalItem:"",formItem:c.formItem,domItem:c.domItem,rulesFormItem:c.rulesFormItem,dataFormItem:c.dataFormItem,modalAction:"",listaProductos:[],delItem:{},busquedaItem:""}},created:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.getItems();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.formItem={};case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{handleAgregar:function(){this.tituloModalItem="Agregar item",this.modalAction="Agregar",this.dialogVisibleItem=!0},handleEdit:function(e){this.formItem=e,this.tituloModalItem="Editar item",this.modalAction="Editar",this.dialogVisibleItem=!0},handleDelete:function(e){this.delItem=e,this.mensajeModalDelete="¿Realmente desea eliminar <b>".concat(e.label,"</b>?"),this.deleteDialogVisible=!0},submitAgregar:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.response){e.next=20;break}if(this.loading=!0,"Agregar"!==t.action){e.next=9;break}return t.data.label=t.data.label.toUpperCase(),t.data.hasOwnProperty("descripcion")||(t.data.descripcion=""),e.next=7,Object(u["a"])(t.data).then(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.$notify({title:"Bien hecho!",message:"Item agregado con éxito",position:"bottom-right",type:"success",duration:2e3});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:e.next=13;break;case 9:return t.data.label=t.data.label.toUpperCase(),t.data.hasOwnProperty("descripcion")||(t.data.descripcion=""),e.next=13,Object(u["d"])(t.data).then(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.$notify({title:"Bien hecho!",message:"Item modificado con éxito",position:"bottom-right",type:"success",duration:2e3});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:return this.formItem={},this.dialogVisibleItem=!1,e.next=17,this.getItems();case 17:this.loading=!1,e.next=23;break;case 20:this.formItem={},this.getItems(),this.dialogVisibleItem=!1;case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),submitDelete:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return this.loading=!0,e.next=4,Object(u["b"])(this.delItem).then(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.$notify({title:"Información",message:"Se ha eliminado el item!",position:"bottom-right",type:"success",duration:2e3}),r.deleteDialogVisible=!1,e.next=4,r.getItems();case 4:r.loading=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){console.log(e),r.$notify({title:"Advertencia",message:"El item esta asociado a una factura!",position:"top-right",type:"error",duration:2e3}),r.deleteDialogVisible=!1,r.loading=!1}));case 4:e.next=7;break;case 6:this.deleteDialogVisible=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getItems:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["c"])(this.idproceso).then((function(e){t.listaItems=e,t.loading=!1}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},p=m,f=(r("aa79"),r("2877")),b=Object(f["a"])(p,n,i,!1,null,"5cc65109",null);t["default"]=b.exports},7818:function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return s}));var n=r("b775");function i(){return Object(n["a"])({url:"/items",method:"get"})}function a(e){return Object(n["a"])({url:"/items",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/items",method:"put",data:e})}function s(e){return Object(n["a"])({url:"/items",method:"delete",data:e})}},a888:function(e,t,r){"use strict";r("a481"),r("6762"),r("2fdb");var n={bind:function(e,t,r){var n=e.querySelector(".el-dialog__header"),i=e.querySelector(".el-dialog");n.style.cssText+=";cursor:move;",i.style.cssText+=";top:0px;";var a=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();n.onmousedown=function(e){var t=e.clientX-n.offsetLeft,o=e.clientY-n.offsetTop,s=i.offsetWidth,l=i.offsetHeight,c=document.body.clientWidth,u=document.body.clientHeight,d=i.offsetLeft,m=c-i.offsetLeft-s,p=i.offsetTop,f=u-i.offsetTop-l,b=a(i,"left"),g=a(i,"top");b.includes("%")?(b=+document.body.clientWidth*(+b.replace(/\%/g,"")/100),g=+document.body.clientHeight*(+g.replace(/\%/g,"")/100)):(b=+b.replace(/\px/g,""),g=+g.replace(/\px/g,"")),document.onmousemove=function(e){var n=e.clientX-t,a=e.clientY-o;-n>d?n=-d:n>m&&(n=m),-a>p?a=-p:a>f&&(a=f),i.style.cssText+=";left:".concat(n+b,"px;top:").concat(a+g,"px;"),r.child.$emit("dragDialog")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},i=function(e){e.directive("el-drag-dialog",n)};window.Vue&&(window["el-drag-dialog"]=n,Vue.use(i)),n.install=i;t["a"]=n},aa79:function(e,t,r){"use strict";r("71fe")}}]);